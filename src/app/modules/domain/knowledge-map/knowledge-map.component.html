<div *ngFor="let kc of knowledgeComponents">
  <button mat-menu-item (click)="selectedKC.emit(kc)" [matTooltip]="kc.name" [matTooltipPosition]="'after'"
      [disabled]="isLocked(kc)"
      [ngClass]="{'kc-in-progress': isInProgress(kc)}">
    <span [ngStyle]="{'padding-left': 16*level+'px'}" class="kc-menu">
      <mat-icon *ngIf="isLocked(kc)">lock</mat-icon>
      <mat-icon *ngIf="isCompleted(kc)">done</mat-icon>
      <span *ngIf="isInProgress(kc)">
        <b>{{kc.mastery.mastery * 100}}</b>
        <mat-icon color="accent">percent</mat-icon>
      </span>
      {{kc.name}}
    </span>
  </button>
  <cc-knowledge-map
    [level]="level+1"
    [knowledgeComponents]="kc.knowledgeComponents" (selectedKC)="selectedKC.emit($event)">
  </cc-knowledge-map>
</div>
