<mat-sidenav-container hasBackdrop="false">
  <mat-sidenav fixedInViewport="true" mode="side" position="end" [opened]="sidenavOpened">
    <button mat-raised-button mat-icon-button color="primary" (click)="sidenavOpened = false">
      <mat-icon>keyboard_arrow_right</mat-icon>
    </button>
    <h2 class="mat-h2" i18n>
      Beleške
    </h2>
    <cc-notes></cc-notes>
  </mat-sidenav>
  <mat-sidenav-content>
    <div class="fixed">
      <button mat-raised-button mat-icon-button color="primary" (click)="sidenavOpened = true">
        <mat-icon i18n-matTooltip matTooltip="Tvoje beleške.">assignment</mat-icon>
      </button>
    </div>
    <div id="lecture" *ngIf="unit">
      <h1 class="mat-h1">{{unit.name}}</h1>
      <h3 class="mat-h3"><markdown>{{unit.description}}</markdown></h3>
      <mat-divider></mat-divider>
      <div *ngIf="unit.knowledgeComponents?.length !== 0" fxLayout="row" fxLayoutAlign="start start" class="kc-num">
        <cc-knowledge-map fxFlex="90" *ngIf="masteries" [knowledgeComponents]="unit.knowledgeComponents" [masteries]="masteries"></cc-knowledge-map>
        <mat-card class="kc-done" *ngIf="calcSatisfiedKcs() != calcKcs()" matTooltip="Broj savladanih veština / Broj veština">{{calcSatisfiedKcs()}}/{{calcKcs()}}</mat-card>
        <mat-icon class="medal-icon" *ngIf="calcSatisfiedKcs() == calcKcs()"  matTooltip="Uspešno su savladane sve veštine." svgIcon="medal" aria-hidden="false" aria-label="Example thumbs up SVG icon"></mat-icon>
      </div>
      <div *ngIf="unit.knowledgeComponents?.length === 0">
        <p>
          <b>Lekcija je u najavi i trenutno je nema u ponudi.</b>
        </p>
      </div>
      <mat-divider style="margin-top: 20px;"></mat-divider>
      <div style="margin-top: 20px;" fxLayoutGap="10px">
        <button mat-raised-button color="primary" (click)="openImprovementDialog()" i18n>Oceni Tutora</button>
        <button mat-raised-button [routerLink]="['/courses', courseId]" i18n>Pregled kursa</button>
      </div>
      <br>
      <br>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
