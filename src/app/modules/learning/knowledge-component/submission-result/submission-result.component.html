<mat-card class="sticky" fxLayout.gt-xs="row" fxLayout.xs="column">
  <div fxFlex>
    <div *ngIf="feedbackMessage" class="feedback-container">
      <pre typingAnimator [typeSpeed]="10" [sentences]="[feedbackMessage]"
      [deleteSpeed]="1000000" [showCursor]="false"></pre>
    </div>
  </div>
  <div>
    <div fxLayout="row" fxLayoutAlign="center" *ngIf="statistics">
      <div [ngClass]="{'kc-satisfied': statistics.isSatisfied}" fxLayout="column" fxFlex>
        <div class="accent-text" fxLayout="row" fxLayoutAlign="center">{{(statistics.mastery * 100).toFixed(0)}} <mat-icon class="accent-icon">percent</mat-icon></div>
        <div class="small-text" fxLayout="row" fxLayoutAlign="center">
          <ng-container i18n> vičnost </ng-container><mat-icon i18n-matTooltip matTooltip="Progres nad trenutnom komponentom znanja. Povećava se uspešno urađenim zadacima." class="small-icon">help_outline</mat-icon>
        </div>
      </div>
      <div fxFlex></div>
      <div fxLayout="column">
        <div class="accent-text">{{statistics.attemptedCount}} / {{statistics.passedCount}} / {{statistics.totalCount}}</div>
        <div class="small-text" i18n>pokušano / urađeno / ukupno</div>
      </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="10px" style="margin-top: 5px;">
      <button [disabled]="!feedbackProcessed" color="primary" mat-raised-button (click)="onChangePage('AE')" i18n
        matTooltip="Dostupno nakon što probaš trenutni zadatak da rešiš" [matTooltipDisabled]="feedbackProcessed">Nov zadatak</button>
      <button mat-raised-button (click)="onChangePage('IE')" i18n>Gradivo</button>
      <button [color]="statistics?.isSatisfied ? 'accent' : ''" mat-raised-button [routerLink]="['/course', courseId, 'unit', unitId]" i18n>Lekcija</button>
    </div>
  </div>
</mat-card>
